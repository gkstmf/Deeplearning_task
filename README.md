# 앱 사용시간 추적 및 카카오톡 자동 전송 프로그램

Windows에서 앱 사용시간을 자동으로 추적하고, 주간 통계를 카카오톡으로 자동 전송하는 프로그램입니다.

## 주요 기능

- 🕐 **실시간 앱 사용시간 추적**: Windows에서 실행되는 모든 앱의 사용시간을 자동으로 추적
- 📊 **다양한 통계 차트**: 일별, 주별, 월별, 앱별 사용시간 그래프 생성
- 📱 **카카오톡 자동 전송**: 매주 일요일 오후 8시에 통계 리포트를 카카오톡으로 자동 전송
- 🔍 **사용 패턴 분석**: 개인의 컴퓨터 사용 성향 분석 및 요약
- 🖥️ **시스템 트레이 지원**: 백그라운드에서 실행되며 시스템 트레이에서 상태 확인 가능

## 설치 방법

### 1. Python 설치
- Python 3.8 이상이 필요합니다.
- [Python 공식 사이트](https://www.python.org/downloads/)에서 다운로드하여 설치하세요.

### 2. 필요한 라이브러리 설치
```bash
cd app_usage_tracker
pip install -r requirements.txt
```

### 3. 카카오톡 API 설정

#### 3-1. 카카오 개발자 계정 생성
1. [카카오 개발자 사이트](https://developers.kakao.com)에 접속
2. 카카오 계정으로 로그인
3. "내 애플리케이션" → "애플리케이션 추가하기" 클릭

#### 3-2. 애플리케이션 설정
1. **앱 이름**: 원하는 이름 입력 (예: "앱사용시간추적기")
2. **회사명**: 개인 사용자는 본인 이름 입력
3. 애플리케이션 생성 완료

#### 3-3. 플랫폼 설정
1. 생성된 앱의 "앱 설정" → "플랫폼" 메뉴
2. "Web 플랫폼 등록" 클릭
3. **사이트 도메인**: `http://localhost:8080` 입력

#### 3-4. 카카오톡 메시지 활성화
1. "제품 설정" → "카카오 로그인" 메뉴
2. "카카오 로그인 활성화" ON
3. "제품 설정" → "카카오톡 메시지" 메뉴
4. "카카오톡 메시지 활성화" ON

#### 3-5. REST API 키 확인
1. "앱 설정" → "앱 키" 메뉴
2. "REST API 키" 복사 (프로그램 실행 시 필요)

## 실행 방법

### 1. 기본 실행 (추적만)
```bash
python main.py
```

### 2. 자동화 프로그램 실행 (추천)
```bash
python scheduler.py
```

### 3. 카카오톡 설정 테스트
```bash
python kakao_sender.py
```

## 사용 방법

### 초기 설정
1. `python scheduler.py` 실행
2. 카카오톡 API 설정 진행 (REST API 키 입력)
3. 브라우저에서 인증 URL 접속 후 로그인
4. 리다이렉트된 URL에서 `code` 파라미터 값 복사
5. 터미널에 인증 코드 입력

### 일반 사용
- 프로그램이 시작되면 시스템 트레이에 아이콘이 생성됩니다.
- 트레이 아이콘을 우클릭하여 다음 기능을 사용할 수 있습니다:
  - **상태 확인**: 오늘의 사용시간 확인
  - **즉시 리포트 전송**: 현재 통계를 즉시 카카오톡으로 전송
  - **카카오톡 설정**: API 설정 변경
  - **종료**: 프로그램 종료

### 자동 리포트 전송
- 매주 일요일 오후 8시에 자동으로 주간 리포트가 카카오톡으로 전송됩니다.
- 리포트에는 다음 내용이 포함됩니다:
  - 일별 사용시간 그래프
  - 주별 사용시간 그래프
  - 월별 사용시간 그래프
  - 앱별 사용시간 그래프 (상위 10개)
  - 사용 패턴 분석 및 요약

## 파일 구조

```
app_usage_tracker/
├── main.py              # 메인 추적 모듈
├── scheduler.py         # 자동화 스케줄러
├── kakao_sender.py      # 카카오톡 전송 모듈
├── requirements.txt     # 필요한 라이브러리 목록
├── README.md           # 사용 가이드
├── app_usage.db        # 사용시간 데이터베이스 (자동 생성)
├── kakao_config.json   # 카카오톡 API 설정 (자동 생성)
└── *.png              # 생성된 차트 이미지들
```

## 생성되는 차트

1. **일별 사용시간**: 최근 7일간의 일별 총 사용시간
2. **주별 사용시간**: 최근 4주간의 주별 총 사용시간
3. **월별 사용시간**: 최근 6개월간의 월별 총 사용시간
4. **앱별 사용시간**: 주간 앱별 사용시간 상위 10개

## 사용 패턴 분석

프로그램은 다음과 같은 분석을 제공합니다:
- 총 사용시간 및 일평균 사용시간
- 가장 많이 사용한 앱
- 사용한 앱의 다양성
- 개인별 사용 성향 분석

## 문제 해결

### 자주 발생하는 문제

1. **"모듈을 찾을 수 없습니다" 오류**
   ```bash
   pip install -r requirements.txt
   ```

2. **카카오톡 메시지 전송 실패**
   - 카카오 개발자 사이트에서 앱 설정 확인
   - 카카오톡 메시지 기능이 활성화되어 있는지 확인
   - 토큰이 만료된 경우 재인증 필요

3. **시스템 트레이 아이콘이 보이지 않음**
   ```bash
   pip install pystray pillow
   ```

4. **한글 폰트 오류**
   - Windows에 "맑은 고딕" 폰트가 설치되어 있는지 확인
   - 다른 한글 폰트로 변경하려면 `main.py`의 `setup_matplotlib()` 함수 수정

### 로그 확인
프로그램 실행 중 문제가 발생하면 `app_usage_scheduler.log` 파일을 확인하세요.

## 보안 및 개인정보

- 모든 데이터는 로컬 컴퓨터에 저장됩니다.
- 카카오톡 API 토큰은 `kakao_config.json` 파일에 저장됩니다.
- 외부 서버로 개인 데이터가 전송되지 않습니다.

## 시스템 요구사항

- **운영체제**: Windows 10/11
- **Python**: 3.8 이상
- **메모리**: 최소 512MB
- **저장공간**: 최소 100MB

## 라이선스

이 프로그램은 개인 사용 목적으로 자유롭게 사용할 수 있습니다.

## 업데이트 및 지원

프로그램 사용 중 문제가 발생하거나 개선 사항이 있으면 이슈를 등록해주세요.

---

**주의사항**: 
- 프로그램을 처음 실행할 때는 Windows Defender나 백신 프로그램에서 경고가 나올 수 있습니다. 이는 정상적인 현상이며, 예외 처리하시면 됩니다.
- 카카오톡 API 사용량에는 제한이 있으므로, 과도한 메시지 전송은 피해주세요.
